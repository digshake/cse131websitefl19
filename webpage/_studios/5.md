---
title: Writing and Testing Methods
week: 5
---





# Warmup
* First, form a group of two people (or three if absolutely needed). You can access the repository for your group <a href="https://classroom.github.com/g/CuBdaFGU" target="_blank">here</a>. One member of your group will create the group then the rest of your group should use the same link to join your group. When importing the project be sure to:
  1. Close all projects (in every open IntelliJ window pick `File > Close Project`)
  2. Once you get back to the initial IntelliJ window (small square box):<br/>![IntelliJ Start Window](../../../assignments/IntelliJStartWindow.png){:width="50%"} <br/>select the `Check out from Version Control` option.
  3. Use the repo URL
  4. As you step through the import process **give each window a second to search for the required resources**.
* All but one member of your group should have this web page open so you can follow along and see the instructions as you work
* Plan to have one computer at which your team does its work. Initially, one of you will be in charge of typing at that computer.
* Throughout the studio, you should trade who is in charge of the keyboard. Before doing so, **commit your work** to make sure your work is saved

# Overview

In this studio you will explore the following two concepts:

* **Writing** methods that compute results of interest.
* **Testing** methods to develop assurance that the methods compute their results properly.

If necessary review the videos and material concerning methods.  Once your group is ready move on to the next section where you will write and test some methods.

> **Important!** Today you must rotate who is doing the typing as you move from one method to the next.  Every person in your group must have a chance to be the <I>lead</I> person at the keyboard for at least one method described below.
>
> All group members are encouraged to help the lead person at the keyboard.

In preparation for the exercises open the following files, found in the **studio5** source folder of your repository:

* `Methods` is a file in which you will type the methods described below.
* There are several separate files that will be used to test each method using a library called [JUnit](https://junit.org/junit4/){:target="_blank"}: `DistanceBetweenTests.java`,

# Methods

In the work you see below you should be asking yourselves the following as you write code:

* What is the name of the method I must create?  The name is important, and if you get it wrong, the test code won\'t be able to test your code. The case of every character must agree with what you are asked to write. The name **Sum** is a different method to Java than the method named **sum**.
  * Names should be descriptive.  Someone reading code will see then name and it's best if the name gives them a high-level idea of what the method does.
* What are the types of the input parameters?  These must also agree with the specification.
* What is the type of the return value, if any?  This must agree with the specification.

# `distanceBetween()`

Review the `distanceBetween` method in `Methods.java`.  It's mostly done for you.  Read the description and make sure you understand the choices for:

* The name.  Will someone be able to determine what the method does purely from the name?
* The return type.  Why is `double` a good choice here? 
* The parameters.  Why are there 4 parameters?  Do the types of each (`double`s) make sense?

## Running Tests

Open `DistanceBetweenTests.java`. This file contains several tests to help demonstrate that will test `distanceBetween()`.  You can run all the tests in the file by clicking the "play" button next to the class declaration <br/>![DistanceBetweenTests](../../../studios/distanceBetweenTests.png) <br/>

Run it.  You should see a new pane in IntelliJ that should look something like: <br/>![distanceBetween Results](../../../studios/distanceBetweenResults.png) <br/>

* The Yellow Xs indicate test cases that failed.  You can click on them to be taken to the code that failed.
* The Green checks indicate test cases that passed.  Notice that even incomplete code can sometimes pass tests!

## Finishing the Code

Complete the code for `distanceBetween()`  Use other methods, like [`Math.sqrt()`](https://docs.oracle.com/javase/7/docs/api/java/lang/Math.html#sqrt(double)){:target="_blank"}, [`Math.pow()`](https://docs.oracle.com/javase/7/docs/api/java/lang/Math.html#pow(double,%20double)){:target="_blank"}, and [`Math.abs()`](https://docs.oracle.com/javase/7/docs/api/java/lang/Math.html#abs(double)){:target="_blank"}.  (By the way, click on those links and note the format of each of the descriptions.  This is style called JavaDoc)

## Finishing Testing

Re-run the test cases. Do they all pass?  Probably not! 

* In this case one of the test cases itself is flawed. 
* Open `DistanceBetweenTests.java` and review `testDistanceBetweenSamePoints()`.  Discuss with your group mates and a TA how you think the test works.
* If more than one test is failing, review your code and update it.  Make sure you're using the correct formula for Euclidean distance.
* Once only one test case fails, double click on it.  One of the test cases has a flaw! Review the test case carefully, fix the flaw, and re-run the test cases.
* Once all test pass add one more test named `testDistance5()` that will verify that the distance between (8,9) and (5,5) is 5.0.

# `arraySum()`

**If working with a partner, change who is at the keyboard**

Arrays can be given as parameters to methods. Review the code for `sum()` in  `Methods.java`.  As before, pay attention to the JavaDoc comment, return type, parameter types, and name.  Do they all seem to be reasonable choices?

## Finishing the Code

Complete the code for `arraySum()`.

## Testing

Open `ArraySumTests.java` and run the tests.  

Review the tests:

* Figure out how they work (they are slightly different than the test for `distanceBetween()`).
* Often the goal of testing is to be:
  * Complete: Test things that are likely to be flawed
  * Concise: developing and running tests shouldn't take prohibitive time.

Do these tests appear "complete and concise"?

If your code didn't pass all tests, update it until it does. (These test don't have anything that should be considered a flaw)

# `filledArray()`

**If working with a partner, change who is at the keyboard**

Arrays can also be returned from methods. Review the code for `filledArray()` in  `Methods.java`.  As before, pay attention to the JavaDoc comment, return type, parameter types, and name.  Do they all seem to be reasonable choices?

## Finishing the Code

Complete the code for `filledArray()`.

## Testing

Open `FilledArrayTests.java` and review the test cases.  Notice that the `testSizeZero()` case uses `assertTrue` to check a logical condition rather than `assertEquals`, which was used by previous examples.

Notice that `testSizeFive` does two separate tests. It has an error in the first one.  Run the tests and notice the error printed when it fails. Click on the test case and it will take you to the line of code where the failure was noticed. Update the test code to remove the error. Also notice that the second part of the method uses a loop to check several items.  

If your code didn't pass all tests, update it until it does. (These test don't have anything that should be considered a flaw)

# `arrayMean()` 

**If working with a partner, change who is at the keyboard**

Create a new method in `Methods.java` named `arrayMean`.  It should:

* Currently we're only creating methods that are declared as `public static`.  Don't forget to include them. 
* Decide on an appropriate return type (Hint: Consider example problems, like the mean of {2,1} or {1,2,3,1})
* Decide on an appropriate parameter name(s) and type(s).
* Return the mean (arithmetic average) of a set of integers.
* Hint this method can be done with just a single line of code in the body.  Leverage your prior work on the studio! 

After writing the code for the method, also create the JavaDoc style comment.  Type `/**` above the method and hit return.  It will automatically create a JavaDoc style comment block.  Fill it in using the same style as used in the rest of the examples.

## Testing

Open `ArrayMeanTests.java`.  The  test cases are all commented out with `//` style comments. You can remove the comments all at once by highlighting all the lines of code that start with `//` and hitting `Control-/` (on a PC) or `Command-/` on a Mac.  If you see red underlines your method may not be using the name or parameters that were expected.  Review the structure of the method being called from the tests and update your code to match.

Run the tests.  If your code didn't pass all tests, update it until it does.

Notice that these tests don't perform a test with an empty array. Take a few minutes to consider why such a test may not be appropriate here. Discuss with a TA/instructor. 

# Generate JavaDoc pages

JavaDoc style comments are used to easily create documentation that goes along with code. If done correctly, the documentation will allow other people to use code without having to read through all the tedious details or having to guess about it's behavior.  Create JavaDoc pages for your work by selecting `Generate JavaDoc...` from the `Tools` menu in IntelliJ.  You may have to indicate where the docs should be place in the `Output directory:` field.  Click on the folder icon (of `Output Directory:`) and create a new folder to put the documentation in (maybe named `docs`). The hit `OK`.  It should generate files in the newly created directory and will even show you them as web pages in your browser. (If your browser doesn't open to them, use your computer's file exploredd/finder to look at the folder and open `index.html`). If you click on the `Methods` tab you should see how the JavaDoc was taken from the file and turned into a webpage.  In particular look at the documentation that was created for your `arrayMean()` method.

# Submitting your work

To submit your work, contact the instructor or a TA. They will walk you through the submission process. Be prepared to show them the work that you have done and answer their questions about it!
