---
name: Gambler's Ruin with CSV File
week: 4
number: 10
points: 2
---

Authors

: Jarett Gross
: Elie Schramm

This assignment is a continuation of the Gambler\'s Ruin assignment from Module 2. You must first complete and demo that 
assignment before you can demo this assignment.


##Background

In this assignment, you will export the data that you received from your Gambler\'s Ruin simulation to a Comma Separated Values (CSV) file. These types of files can be opened with programs like Microsoft Excel. CSV files store  tabular data as regular text, where each entry in the data is separated from another entry by a comma and each line of a CSV file is a data record.

##Procedure

1. Alter your program to take the number of win chances as an input, which specifies how may different winning chances  to simulate. Then, accept that many win chances as inputs. Finally, simulate the Gambler\'s Ruin `totalPlays` times  for each `winChance`.

	Think of a way to store these values, as you will be using them throughout your program.

2. Use Java\'s [FileWriter](https://docs.oracle.com/javase/7/docs/api/java/io/FileWriter.html target="new") class to create the CSV file and give it a path name. An example path name would be: `outputs/Ruin.csv`.  This will save the file \"Ruin\" in the `outputs` folder of your repository. 


	You must import `java.io.FileWriter`, `java.io.IOException`, and `com.csvreader.CsvWriter` for this assignment.


3. Once you have imported the above classes and created the CSV file, eclipse should prompt you to add a [throws declaration](https://docs.oracle.com/javase/tutorial/essential/exceptions/declaring.html" target="new"), which will append "throws IOException" to the end of your main method signature to catch any errors we encounter while trying to output the file.

4. Use the `write` method to write the information contained in your variables to the file as `Strings`. Each time you call `write`, it will fill the next cell in the row. To finish with a row and move on to the next one, use the `endRecord` method. Then, once you are finished writing things to the file, use the `close` method to close and flush the stream.

	An example is shown below:
	
	<pre>
	
	FileWriter fw = new FileWriter("outputs/test.csv", true);
	CsvWriter w = new CsvWriter(fw, \',\');
	w.write("Heading 1");
	w.write("Heading 2");
	w.endRecord();
	for (int i = 0; i < 10; i++) {
		w.write("" + i);
		w.write("" + Math.random());	
		w.endRecord();	
	}	
	w.close();
	</pre>

	which, when opened in Excel, would look something like this:

	<IMG SRC="../../../extensions/csvExample.jpg">

5. <em>Your</em> CSV file when opened with Excel should look similar to this (but probably with more simulations):
	<TABLE>
	<TR> <TD> simulation</TD><TD> startAmount</TD><TD> stopAmount</TD><TD> winChance</TD><TD> rounds</TD> <TD> results</TD> </TR>
	<TR> <TD align="right"> 1</TD><TD align="right"> 12</TD><TD align="right"> 18</TD><TD align="right"> 0.1</TD><TD align="right"> 14</TD> <TD> LOSE</TD></TR>
	<TR> <TD align="right"> 2</TD><TD align="right"> 12</TD><TD align="right"> 18</TD><TD align="right"> 0.1</TD><TD align="right"> 14</TD> <TD> LOSE</TD></TR>
	<TR> <TD align="right"> 3</TD><TD align="right"> 12</TD><TD align="right"> 18</TD><TD align="right"> 0.1</TD><TD align="right"> 12</TD> <TD> LOSE</TD></TR>
	<TR> <TD align="right"> 1</TD><TD align="right"> 12</TD><TD align="right"> 18</TD><TD align="right"> 0.4</TD><TD align="right"> 18</TD> <TD> LOSE</TD></TR>
	<TR> <TD align="right"> 2</TD><TD align="right"> 12</TD><TD align="right"> 18</TD><TD align="right"> 0.4</TD><TD align="right"> 46</TD> <TD> LOSE</TD></TR>
	<TR> <TD align="right"> 3</TD><TD align="right"> 12</TD><TD align="right"> 18</TD><TD align="right"> 0.4</TD><TD align="right"> 18</TD> <TD> LOSE</TD></TR>
	<TR> <TD align="right"> 1</TD><TD align="right"> 12</TD><TD align="right"> 18</TD><TD align="right"> 0.7</TD><TD align="right"> 14</TD> <TD> WIN</TD></TR>
	<TR> <TD align="right"> 2</TD><TD align="right"> 12</TD><TD align="right"> 18</TD><TD align="right"> 0.7</TD><TD align="right"> 44</TD> <TD> WIN</TD></TR>
	<TR> <TD align="right"> 3</TD><TD align="right"> 12</TD><TD align="right"> 18</TD><TD align="right"> 0.7</TD><TD align="right"> 8</TD> <TD> WIN</TD></TR>
	</TABLE>

6. If you wanted to sum up the number of wins in Excel, you would probably want to replace the strings \"WIN\" and \"LOSE\" with 1 and 0. Fortunately, we can write a function in Excel that checks `if` a cell equals a given string, for example, and evaluates to a number in a corresponding cell. For further reference, you can take a look at <a href="https://support.office.com/en-us/article/IF-function-69aed7c9-4e8a-4755-a9bc-aa8bbff73be2?ui=en-US&rs=en-US&ad=US&fromAR=1" target="new">this</a>.
