<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Dates and Appointments | CSE131: Computer Science I</title>
  <meta name="description" content="  Warmup      The work prescribed in this studio will probably exceed the timeyou have today.    Work as slowly as required to understand what you are doing....">

  <link rel="stylesheet" href="/cse131/_site/css/main.css">
  <link rel="canonical" href="https://www.cse.wustl.edu/cse131/_site/weeks/8/studio/">
  <link rel="alternate" type="application/rss+xml" title="CSE131: Computer Science I" href="https://www.cse.wustl.edu/cse131/_site/feed.xml">
</head>


<body>
	<div class="wrapper">
			<div class="container">

				<article class="site-content">
					<h1>Studio 8: Dates and Appointments</h1>



					<ul id="markdown-toc">
  <li><a href="#warmup" id="markdown-toc-warmup">Warmup</a></li>
</ul>

<ul>
  <li>
    <p>The work prescribed in this studio will probably exceed the time
you have today.</p>

    <p><strong>Work as slowly as required to understand what you are doing.</strong></p>

    <p>You receive credit no matter how far you go with this studio.  If there are steps beyond the time you have today, look at those on your own.</p>
  </li>
  <li>
    <p>If you need further help, ask a TA or the professor as needed.</p>
  </li>
</ul>

<h1 id="warmup">Warmup</h1>
<ul>
  <li>First, form a group:</li>
  <li>All but one member of your group should have this web page open so you can follow along and see the instructions as you work</li>
  <li>Plan to have one computer at which your team does its work. Initially, one of you will be in charge of typing at that computer.</li>
  <li>Throughout the studio, you should trade who is in charge of the keyboard. Before doing so, <strong>commit your work</strong> to make sure your work is saved</li>
</ul>

<p>#Procedure
From the story described below, design and implement the described classes. Follow the instructions carefully. Don't rush ahead until you have successfully completed the specified work.</p>

<ol>
  <li>
    <p>Read the following:</p>

    <ul>
      <li>A <code class="highlighter-rouge">Date</code> has-a month, day, and year.  It also has-a field that indicates whether the date is a holiday or not.</li>
    </ul>

    <p>For the purposes of this studio, assume that all months have 31 days.</p>

    <ul>
      <li>A <code class="highlighter-rouge">Time</code> has-an hour (0 to 23) and a minute (0 to 59).  It also has-a field that indicates whether the (<code class="highlighter-rouge">toString()</code> of the) time should be in 12- or 24-hour format.</li>
    </ul>
  </li>
  <li>
    <p>At this point, create an immutable class for <code class="highlighter-rouge">Date</code> and <code class="highlighter-rouge">Time</code> in your <code class="highlighter-rouge">studio8</code> package of the <code class="highlighter-rouge">studios</code> source folder, based on the above story.</p>

    <ul>
      <li>The term <em>immutable</em> means that the instance variables cannot change after the object is constructed.  <code class="highlighter-rouge">Color</code> is such an object, but <code class="highlighter-rouge">Account</code>  is not.</li>
    </ul>

    <p>To show your intent about immutability, be sure to include the keyword <code class="highlighter-rouge">final</code> in your instance variable declarations, as in:</p>

    <pre>
   private final int x;
 </pre>

    <p>If this is unclear, ask around about it.</p>

    <ul>
      <li>
        <p>For now, assume that only legitimate input values are specified for anything your constructor requires.</p>
      </li>
      <li>
        <p>Think carefully about what your constructor for <code class="highlighter-rouge">Time</code> should retain.  Explore a bit how you will deal with the 12- or 24-hour format issue for <code class="highlighter-rouge">toString()</code>.</p>

        <ul>
          <li>
            <p>What is the essence of such a <code class="highlighter-rouge">Time</code> object?</p>
          </li>
          <li>
            <p>What instance variables are required to capture its essence?</p>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li>
    <p>Now implement <code class="highlighter-rouge">toString()</code> for each of these classes, returning a String that is appropriately descriptive.</p>
  </li>
  <li>
    <p>Create a few instances and print them out in the <code class="highlighter-rouge">main</code> method of the each class.</p>
  </li>
  <li>
    <p><strong>Show a TA your work so far.</strong></p>
  </li>
  <li>
    <p>We next equip our two classes with the ability to tell whether they do, or do not <em>equal</em> a given <code class="highlighter-rouge">Object</code>.</p>

    <p>For each of the two classes, let's make eclipse generate the <code class="highlighter-rouge">equals</code> and <code class="highlighter-rouge">hashCode</code> methods.  You won't understand all of that just yet, but let's do it and we'll explainthings later:</p>

    <ol>
      <li>
        <p>While editing each class, choose <code class="highlighter-rouge">Source</code>..<code class="highlighter-rouge">Generate hashCode() and equals()</code>..</p>
      </li>
      <li>
        <p>You are then presented with a menu of instance variables.</p>
      </li>
    </ol>

    <p>This is an important step for you.  You must decide <em>which</em> of the instance variables (fields) should be used to compare two objects of this kind.</p>

    <p>These classes were specified such that <strong>not all</strong> of the fields are relevant for this comparsion.  Talk this over, make your choices, and thenâ€¦.</p>

    <ol>
      <li>
        <p>Click <code class="highlighter-rouge">OK</code>.</p>
      </li>
      <li>
        <p>Take a look at the code that is generated.  Again, it probably will not
 make much sense, so please consider the following as you look at the code:</p>
      </li>
    </ol>

    <p><code class="highlighter-rouge">hashCode()</code></p>

    <p>For whichever fields you have chosen for equality considerations, it must always be the case that if two objects do equal each other, then they have the same <code class="highlighter-rouge">hashCode()</code> value.  This implication goes only in the direction stated, so one possible legal implementation is simply:</p>

    <pre>
 public int hashCode() {
    return 0;
 }
 </pre>

    <p>However, you can see that the code eclipse generated is much more complicated than that.</p>

    <p>For now, imagine that you have before you lots of buckets, each labeled with an integer.  Think of <code class="highlighter-rouge">hashCode()</code> as returning an integer that represents the only bucket in which this object could be found.  Thus, if you want to see if the object exists in all of the buckets, you really need only check one bucket.</p>

    <p>Convince yourself that if two objects of the same type (for example, <code class="highlighter-rouge">Date</code>) equal each other, then their <code class="highlighter-rouge">hashCode()</code> values are the same as computed by the eclipse-generated code.</p>

    <p>You might also try to find two objects of the same type such that they differ and their <code class="highlighter-rouge">hashCode()</code> values happen to be different.</p>

    <p><code class="highlighter-rouge">equals(Object obj)</code></p>

    <p>With regard to the code automatically generated for <code class="highlighter-rouge">equals(Object obj)</code>, the <a href="http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/Object.html#equals%28java.lang.Object%29">contract in Java for equals</a> includes the following;  read over the code and convince yourselves that the code enacts the proper contract:</p>

    <ul>
      <li>If <code class="highlighter-rouge">this</code> and <code class="highlighter-rouge">obj</code> are physically the same object, then the result should be <code class="highlighter-rouge">true</code>.</li>
      <li>No instantiated object equals the <code class="highlighter-rouge">null</code> reference. The <code class="highlighter-rouge">this</code> reference is always to an actually instantiated object.</li>
      <li>If <code class="highlighter-rouge">this</code> and <code class="highlighter-rouge">obj</code> are objects of different types, then the answer must be <code class="highlighter-rouge">false</code>.</li>
      <li>If none of the above rules applies, then equality can be based on any consistent comparison of any subset of the objects' fields.</li>
    </ul>
  </li>
  <li>
    <p>Instantiate some <code class="highlighter-rouge">Date</code> and <code class="highlighter-rouge">Time</code> objects (several of each) and ensure that they compare properly to each other.</p>

    <p>Remember to use <code class="highlighter-rouge">a.equals(b)</code> to see if <code class="highlighter-rouge">a</code> and <code class="highlighter-rouge">b</code> equal each other!  If you use <code class="highlighter-rouge">==</code>, the comparison is restricted to whether the two objects are phyiscally the same:  the <code class="highlighter-rouge">equals(Object obj)</code> method is not run for that comparison.</p>
  </li>
  <li>
    <p>Let's now make some lists and sets of the objects we have created so far. We'll focus on <code class="highlighter-rouge">Date</code> but if you have time, try this with <code class="highlighter-rouge">Time</code> as well (pardon the pun).</p>

    <ol>
      <li>
        <p>In the <code class="highlighter-rouge">main</code> method of each class, you should already be creating and comparing instances of your objects.</p>
      </li>
      <li>
        <p>After you have instantiated some 5 objects, create a <code class="highlighter-rouge">List</code> of such objects by using the following code:</p>
      </li>
    </ol>

    <pre>
 LinkedList&lt;Date&gt; list = new LinkedList&lt;Date&gt;();
 </pre>

    <p>You have not seen the angle-bracket notation. It is used to specify parametric types.  It may help to read the above line of code as:</p>

    <p>Instantiate a new linked list of Date objects and assign that object to the variable named <code class="highlighter-rouge">list</code>.</p>

    <p>You may have to use eclipse suggestions to import the proper classes, which will come from the <code class="highlighter-rouge">java.util</code> package.</p>
  </li>
  <li>
    <p>What can we do with a <a href="http://docs.oracle.com/javase/6/docs/api/java/util/LinkedList.html">LinkedList</a> object?  Click on the link in the sentence before this one and check out the API.</p>

    <p>Note that in the documentation, <code class="highlighter-rouge">E</code> refers to the type of element in the list you construct.  In this running example, that would be a <code class="highlighter-rouge">Date</code> object.</p>
  </li>
  <li>
    <p>Add some of your <code class="highlighter-rouge">Date</code> objects to the <code class="highlighter-rouge">list</code> list and print it out whenyou are done.</p>

    <p>To print it you need only say:</p>

    <pre>
System.out.println(list);
</pre>
  </li>
  <li>
    <p><strong>Show your work to a TA.</strong></p>
  </li>
  <li>
    <p>Let's see what happens when we add two <code class="highlighter-rouge">Date</code> objects to the list that <code class="highlighter-rouge">equal</code> each other:</p>

    <pre>
Date d1 = new Date(...stuff your constructor needs);
Date d2 = new Date(...same info as above, so these will equal each other);
list.add(d1);
list.add(d2);
list.add(d1);
System.out.println(list);
</pre>

    <p>What do you see?  Does the same date appear three times in the list?</p>
  </li>
  <li>
    <p>Let's do the same thing but this time with a <code class="highlighter-rouge">HashSet</code>. After the code you have written so far, add:</p>

    <pre>
HashSet&lt;Date&gt; set = new HashSet&lt;Date&gt;();
set.add(d1);
set.add(d2);
set.add(d1);
System.out.println(set);
</pre>
  </li>
</ol>

<p>Do you you see multiple occurrences of equal <code class="highlighter-rouge">Date</code> objects in the set?</p>

<p><strong>Based on your observations, what is the main difference between sets and lists?</strong></p>

<ol>
  <li>
    <p><strong>Show your work to a TA.</strong></p>
  </li>
  <li>
    <p>The story continues:  An <code class="highlighter-rouge">Appointment</code> has-a <code class="highlighter-rouge">Date</code> and a <code class="highlighter-rouge">Time</code>.</p>
  </li>
  <li>
    <p>Design and implement an <code class="highlighter-rouge">Appointment</code> object in the <code class="highlighter-rouge">studio8</code> package.</p>
  </li>
  <li>
    <p>Just as you did with <code class="highlighter-rouge">Date</code> and <code class="highlighter-rouge">Time</code>, use eclipse to generate the <code class="highlighter-rouge">hashCode()</code> and <code class="highlighter-rouge">equals(Object obj)</code>.  You should base these on equality of the contained <code class="highlighter-rouge">Date</code> and <code class="highlighter-rouge">Time</code> references.</p>
  </li>
  <li>
    <p>Read over the code eclipse generates.  Note how it <em>delegates</em> equality to the contained objects, in which you have previously defined how you want equality treated for objects of those types.</p>
  </li>
  <li>
    <p>Create some instances of <code class="highlighter-rouge">Appointment</code> objects using the <code class="highlighter-rouge">Date</code> and <code class="highlighter-rouge">Time</code> objects you have already made.</p>
  </li>
  <li>
    <p>In your opinion, what other <em>has-a</em>s should an <code class="highlighter-rouge">Appointment</code> have?</p>
  </li>
  <li>
    <p><strong>Show your work to a TA.</strong></p>
  </li>
  <li>
    <p>Design a <code class="highlighter-rouge">Calendar</code>  object in terms of a collection of <code class="highlighter-rouge">Appointment</code>s.</p>

    <ul>
      <li>Should you use a list or a set?</li>
      <li>What methods should your <code class="highlighter-rouge">Calendar</code> object offer?</li>
    </ul>
  </li>
  <li>
    <p>Try to implement and test the methods of your <code class="highlighter-rouge">Calendar</code> object.</p>
  </li>
  <li>
    <p><strong>Show your work to a TA.</strong></p>
  </li>
  <li>
    <p>Let's add code so that a <code class="highlighter-rouge">Time</code> object offers the method <code class="highlighter-rouge">boolean isEarlierThan(Time other)</code> that returns whether <code class="highlighter-rouge">this</code> <code class="highlighter-rouge">Time</code> is earlier than the <code class="highlighter-rouge">other</code> <code class="highlighter-rouge">Time</code>, assuming the two occur on the same day.</p>
  </li>
  <li>
    <p>Likewise, a <code class="highlighter-rouge">Date</code> offers the method <code class="highlighter-rouge">boolean isEarlierThan(Date other)</code></p>

    <p>Implement and test these two methods.</p>

    <p>At this point, if implementation of these methods is difficult, revisit the way you specify and accept information for these classes.  You are free to design them to make your life easier.</p>
  </li>
  <li>
    <p><strong>Show your work to a TA.</strong></p>
  </li>
  <li>
    <p>Suppose we would like to offer a method common to both <code class="highlighter-rouge">Date</code> and <code class="highlighter-rouge">Time</code> that indicates whether you are working on the specified date or at the specified time.  Create an interface called <code class="highlighter-rouge">Working</code> with the single method:</p>

    <pre>
  public boolean amWorking();
</pre>
  </li>
  <li>
    <p>Make both <code class="highlighter-rouge">Date</code> and <code class="highlighter-rouge">Time</code> implement that interface.</p>

    <p>You can be creative in terms of when you decide you are working, but here is a suggestion:</p>

    <ul>
      <li>For <code class="highlighter-rouge">Time</code>, assume you are working between 9 AM and 5 PM</li>
      <li>For <code class="highlighter-rouge">Date</code>, assume you are working on even-numbered dates</li>
    </ul>
  </li>
  <li>
    <p>Create a list of <code class="highlighter-rouge">Working</code> objects and add up the number of those objects that indicate that you are working.</p>
  </li>
  <li>
    <p><strong>Show your work to a TA.</strong></p>
  </li>
</ol>

				</article>
			</div>

	</div>
	<script type="text/javascript" src="/cse131/_site/js/highlight.pack.js"></script>
</body>
</html>