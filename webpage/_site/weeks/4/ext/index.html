<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>4.10 | CSE131: Computer Science I</title>
  <meta name="description" content="  Authors      Jarett Gross    Elie SchrammThis assignment is a continuation of the Gambler's Ruin assignment from Module 2. You must first complete and demo...">

  <link rel="stylesheet" href="/cse131/_site/css/main.css">
  <link rel="canonical" href="https://www.cse.wustl.edu/cse131/_site/weeks/4/ext/">
  <link rel="alternate" type="application/rss+xml" title="CSE131: Computer Science I" href="https://www.cse.wustl.edu/cse131/_site/feed.xml">
</head>


<body>
	<div class="wrapper writeup">
			<div class="container">

				<article class="site-content">
					<h1>Extension for Module 4:</h1>

					
						
						
						
					
						
						
						
					
						
						
						
					
						
						
						
					
						
						
						
					
						
						
						
					
						
						
						
					
						
						
						
					
						
						
						
					
						
						
						
					
						
						
						
					
						
						
						
					
						
						
						
					
						
						
						
					
						
						
						
					
						
						
						
					
						
						
						
					
						
						
						
							<h2 id=1>Extension 4.1: Create an Instrument (6 points)</h2>
							<p>We have seen how <a href="http://www.jimloy.com/physics/harmony.htm">sound can be represented as a summation of sine waves</a>. In this extension, you will process a description of an instrument, which specifies the relative intensities of that instruments <a href="">overtones</a>.  You will modify a copy of <code class="highlighter-rouge">PlayThatTune</code> so that the sound emitted for each note has the profile of the specified instrument.</p>

<p>##Warm Up</p>

<ul>
  <li>
    <p>Locate the <code class="highlighter-rouge">instrument</code> package in the <code class="highlighter-rouge">extensions</code> folder.</p>
  </li>
  <li>
    <p>You will find a copy of <code class="highlighter-rouge">PlayThatTune</code> in the <code class="highlighter-rouge">instrument</code> package, credited to Sedgewick's book, as this code is adpated from Sedgewick's <code class="highlighter-rouge">PlayThatTune</code>.</p>
  </li>
  <li>
    <p>Run <code class="highlighter-rouge">PlayThatTune</code> and verify that it plays the music files correctly.</p>
  </li>
</ul>

<p>##Overview</p>

<ul>
  <li>For the purposes of this work, let's define a <i>frequency factor</i> as a multiplicative factor to be applied to a frequency <code class="highlighter-rouge">f</code>:</li>
</ul>

<p>In the example below, let's assume that <code class="highlighter-rouge">f</code> is 440 Hz (cycles per second), which is concert A. On a piano, this is the A above middle C:</p>

<p><img src="../../../extensions/a440.gif" alt="" /></p>

<ul>
  <li>
    <p>a factor of <code class="highlighter-rouge">1</code> results in the same frequency as <code class="highlighter-rouge">f</code>, because <code class="highlighter-rouge">1*f==f</code>.</p>
  </li>
  <li>
    <p>a factor of <code class="highlighter-rouge">2</code> yields a frequency <strong>an octave higher</strong> than <code class="highlighter-rouge">f</code>.</p>
  </li>
</ul>

<p>For this example, we obtain 880 Hz, which is the A above high C on a piano:</p>

<p><img src="../../../extensions/a880.gif" alt="" /></p>

<ul>
  <li>a factor of <code class="highlighter-rouge">4</code> yields a frequency <strong>two octaves higher</strong> than <code class="highlighter-rouge">f</code>.</li>
</ul>

<p>Here we obtain 1760 Hz, an octave above the A above high C:</p>

<p><img src="../../../extensions/a1760.gif" alt="" /></p>

<ul>
  <li>a factor of <code class="highlighter-rouge">3</code> is between one and two octaves higher, and it turns out to be one octave plus  a <a href="http://en.wikipedia.org/wiki/Perfect_fifth">just (or, pure) fifth</a> above the pitch corresponding to <code class="highlighter-rouge">f</code>.</li>
</ul>

<p>Here we obtain the frequency 1320 Hz, which sounds like the E above high C.</p>

<p><img src="../../../extensions/e3x.gif" alt="" /></p>

<p>The sound is slightly different than on a piano, where the pitches are not perfect but are instead evenly spaced apart from each other.  The corresponding note on the piano has a frequency of 1318.51 Hz, slightly flatter than
what we get by our frequency factor.</p>

<ul>
  <li>a factor of <code class="highlighter-rouge">0.75</code> (ratio of 3:4) yields a note that sounds like an E, but dividing by 4 lowers its
pitch by two octaves.   With <code class="highlighter-rouge">f</code> at concert A, a frequency factor of 3:4 yields a frequency of 330, whichsounds like the E above middle C:</li>
</ul>

<p><img src="../../../extensions/e34.gif" alt="" /></p>

<p>Again, the pitch on a piano is slightly different;  in this case it
is slightly flatter at  329.63.</p>

<ul>
  <li>
    <p>It is thus convenient to specify a frequency factor as the ratio of
two integers.  In the above examples we see 1:1, 2:1, 4:1, 3:1, and 3:4.</p>
  </li>
  <li>
    <p>To build an actual instrument, we must pick the frequency factors we
wish to hear, and specify how strong each should be.  The table below
specifies such an instrument:</p>
  </li>
</ul>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Frequency Factor</th>
      <th style="text-align: center"> </th>
      <th>Relative Strength</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">Numerator</td>
      <td style="text-align: center">Denominator</td>
      <td> </td>
    </tr>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: center">1</td>
      <td>1</td>
    </tr>
    <tr>
      <td style="text-align: center">2</td>
      <td style="text-align: center">1</td>
      <td>0.75</td>
    </tr>
    <tr>
      <td style="text-align: center">3</td>
      <td style="text-align: center">2</td>
      <td>0.50</td>
    </tr>
  </tbody>
</table>

<p>The first row is the fundamental frequency.  The second is an octave higher, and is 3/4 as strong as the fundamental frequency.  The third row specifies a
pitch that is a fifth above the fundamental freqnecy, and quieter still at
half the strength of the fundamental frequency.</p>

<p>The waveform that results from such an instrument specification is shown
below in red, with the three frequency factors shown in black:</p>

<p><img src="../../../extensions/instr.jpg" alt="" /></p>

<ul>
  <li>
    <p>The red solid waveformis literally the sum of the
black dotted waveforms. The 
sound you produce is sampled from the red waveform, and that <strong>is</strong> the
subject of this extension.</p>
  </li>
  <li>
    <p>The plot shown above is not the subject of this extension, but is shown
to help explain how complex sounds are built from simple ones,
as follows:</p>

    <ul>
      <li>
        <p>The black waveform with the largest <a href="http://en.wikipedia.org/wiki/Amplitude">amplitude</a> (the tallest
  black waveform) is the fundamental frequency
  at relative strength 1.  The sample shown is for 1/440 of a second of a
  440 Hz concert-A.  This is sufficient ot show one full cycle of the
  fundamental frequency.</p>
      </li>
      <li>
        <p>The black waveform with the next largest amplitude has relative strength 0.75.  It is
  an octave higher, so it oscillates twice in the timespan of the
  fundamental pitch's waveform.</p>
      </li>
      <li>
        <p>The black waveform of smallest amplitude (at half the strength of
  the fundamental frequency) is the 3:2 frequency factor, which sounds
  like a fifth above the fundamental frequency.  As expected, it exhibits 
  1.5 cycles in the timespan of the fundamental pitch's waveform.</p>
      </li>
    </ul>
  </li>
  <li>
    <p>The sound of the red waveform, which is what you will produce below, is
similar to an oboe or a clarinet.</p>
  </li>
</ul>

<p>##Procedure</p>

<ol>
  <li>
    <p>First prompt the user for how many frequency factors the user wishes
to specify.  In the above example, 3 such frequencies were used.</p>
  </li>
  <li>
    <p>For each frequency factor, prompt the user for its</p>

    <ol>
      <li>
        <p>Numerator (an <code class="highlighter-rouge">int</code>)</p>
      </li>
      <li>
        <p>Denominator (an <code class="highlighter-rouge">int</code>)</p>
      </li>
      <li>
        <p>Relative strength (a <code class="highlighter-rouge">double</code>)</p>
      </li>
    </ol>

    <blockquote>
      <p>The information about the frequency factors must be saved (in arrays)
for future use.</p>
    </blockquote>
  </li>
  <li>
    <p>The code in <code class="highlighter-rouge">PlayThatTune</code>, copied with attribution
 from <code class="highlighter-rouge">PlayThatTune</code>, reads in a file and computes a value
 in a variable called <code class="highlighter-rouge">hz</code> that is the fundamental frequency
 of the tune being played.</p>

    <p>The <code class="highlighter-rouge">hz</code> value is computed from concert A (440 Hz), taking the specified
 number of equally spaced chromatic steps above (or below) concert A.</p>

    <p>The relevant details, explained in the lecture slides for this module,
 are not necessary to complete this extension, but please ask if you would
 like clarification.</p>
  </li>
  <li>
    <p>Your task is to modify the assignment to the sample <code class="highlighter-rouge">a[i]</code> in
 the provided code:</p>

    <p><img src="../../../extensions/origformula.png" alt="" /></p>

    <p>The sine wave sampled and assigned there is for:</p>

    <ol>
      <li>
        <p>the fundamental frequency (<code class="highlighter-rouge">hz</code>, shown in the red box) of the desired pitch</p>
      </li>
      <li>
        <p>relative strength <code class="highlighter-rouge">1.0</code> (the result of the sine function call
 is implicitly multiplied by 1, shown at the red dot).</p>
      </li>
    </ol>

    <p>In place of that value, you must compute the sum of sine wave samples, one
 for each frequency factor, as follows:</p>

    <ul>
      <li>
        <p><code class="highlighter-rouge">a[i]</code> is initially zero.</p>
      </li>
      <li>
        <p>For each frequency factor
 <code class="highlighter-rouge">f&lt;sub&gt;k&lt;/sub&gt;</code>, add to <code class="highlighter-rouge">a[i]</code> a sample obtained
 as follows:</p>

        <ul>
          <li>
            <p>The value passed to the sine function must be multiplied by the 
  frequency factor.  This means multiplying the red-boxed <code class="highlighter-rouge">hz</code> by the ratio of the
  numerator and denominator of the frequency factor.</p>
          </li>
          <li>
            <p>The value returned from the sine function must be multiplied by the
  relative strength of the frequency factor.  This happens at the red dot.</p>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li>
    <p>Test your program on the <code class="highlighter-rouge">A.txt</code> file first, which is a
 single note.  Then try <code class="highlighter-rouge">Ascale.txt</code> and some other songs.</p>
  </li>
</ol>

							<h1>Submitting your work</h1>

							<p>To submit your work, contact the instructor or a TA. They will walk you through the submission process. Be prepared to show them the work that you have done and answer their questions about it!</p>
						
					
						
						
						
							<h2 id=2>Extension 4.2: Draw a Sound Wave (10 points)</h2>
							<h2 id="warm-up">Warm Up</h2>

<p>To understand this extension, you should first be familiar with the 
extension in which an instrument's sound is produced as the sum of
sine waves.</p>

<p>You will modify your program further in this extension to produce the sine-wave
plots that depict how sine-wave addition occurs.</p>

<p>The details of this assignment are not completely specified so that
you must think through what is needed to produce meaningful plots.
Ask for help as needed!</p>

<p>##Procedure</p>

<ul>
  <li>An example of a plot is shown below:</li>
</ul>

<p><img src="../../../extensions/instr.jpg" alt="" /></p>

<ul>
  <li>
    <p>The black waveform with the largest <a href="http://en.wikipedia.org/wiki/Amplitude">amplitude</a> (the tallest black waveform) is the fundamental frequency at relative strength 1.  The waves shown are for 1/440 of a second of a 440 Hz concert-A.  This is sufficient ot show one full cycle of that fundamental frequency.</p>
  </li>
  <li>
    <p>The black waveform with the next largest amplitude has relative strength 0.75.  It is
an octave higher, so it oscillates twice in the timespan of the
fundamental pitch's waveform, at 880 Hz.</p>
  </li>
  <li>
    <p>The black waveform of smallest amplitude (at half the strength of the fundamental frequency) is 660 Hz: the 3:2 frequency factor, which sounds like a fifth above the fundamental frequency.  As expected, it exhibits  1.5 cycles in the timespan of the fundamental pitch's waveform.</p>
  </li>
  <li>
    <p>The red waveform is the sum of the black ones.</p>
  </li>
  <li>
    <p>Each of the frequency factors incorporated into an instrument is shown separately by plotting dots of the curve as the values are computed.</p>
  </li>
  <li>
    <p>With frequencies on the order of hundereds or thousands of cycles per second, we must limit the time of the plot so that we can see one or two cycles clearly.</p>
  </li>
</ul>

<p>Think about how many <strong>samples</strong> you need to capture to show
one complete cycle at 440 Hz.</p>

<p>One way to reason about this is to use
the units of the various computations and multiply or divide them to obtain
the property you seek.</p>

<ul>
  <li>
    <p>Plot the individual waveforms using black dots, as shown above.</p>
  </li>
  <li>
    <p>Plot the summation waveform using red connected line segments, as shown
  above.</p>
  </li>
</ul>

							<h1>Submitting your work</h1>

							<p>To submit your work, contact the instructor or a TA. They will walk you through the submission process. Be prepared to show them the work that you have done and answer their questions about it!</p>
						
					
						
						
						
							<h2 id=3>Extension 4.3: Loud or Graphics-ful Bouncing Balls (2 points)</h2>
							<p>If you have added sound or pictures to your solution for Lab 4, demo those to a TA and receive points for this extension.</p>

							<h1>Submitting your work</h1>

							<p>To submit your work, contact the instructor or a TA. They will walk you through the submission process. Be prepared to show them the work that you have done and answer their questions about it!</p>
						
					
				</article>
			</div>

			<footer class="site-footer">
	<p>
		<small>Generated at  2019-08-27 21:32:39 -0500</small>.
	</p>
	<p>
		<small>
			Page written by (unknown).
			Site design by <a href="http://ben.stolovitz.com">Ben Stolovitz</a>.
		</small>
	</p>
</footer>

	</div>
	<script type="text/javascript" src="/cse131/_site/js/highlight.pack.js"></script>
</body>
</html>